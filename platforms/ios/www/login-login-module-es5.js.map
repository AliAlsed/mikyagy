{"version":3,"sources":["./src/app/login/login.page.html","./src/app/login/login.module.ts","./src/app/login/login.page.scss","./src/app/login/login.page.ts"],"names":[],"mappings":"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","file":"login-login-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>\\n      <div class=\\\"tit-container\\\">\\n        <div class=\\\"titlee\\\">\\n          تسجيل الدخول\\n        </div>\\n        <div class=\\\"backicon\\\">\\n          <ion-icon name=\\\"arrow-round-back\\\" (click)=\\\"back()\\\"></ion-icon>\\n        </div>\\n      </div>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div class=\\\"signin\\\">\\n    <div class=\\\"header\\\">\\n      <div class=\\\"logos\\\">\\n        <img src=\\\"assets/imgs/logo.png\\\" width=\\\"80\\\">\\n      </div>\\n      <h1>تسجيل الدخول</h1>\\n      <p>قم بتسجيل الدخول لاستخدام التطبيق</p>\\n    </div>\\n    <div class=\\\"main\\\">\\n      <form role=\\\"form\\\" #f=\\\"ngForm\\\" (ngSubmit)=\\\"signIn(f)\\\">\\n        <ion-item>\\n          <ion-input class=\\\"form-control\\\" placeholder=\\\"البريد الالكتروني\\\" type=\\\"email\\\" name=\\\"email\\\" ngModel required\\n            email>\\n          </ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-input class=\\\"form-control\\\" placeholder=\\\"كلمة المرور\\\" [type]=\\\"show ? 'text' : 'password'\\\" name=\\\"password\\\"\\n            ngModel minlength=\\\"8\\\" required></ion-input>\\n        </ion-item>\\n        <div class=\\\"form-check\\\" style=\\\"margin:5px\\\">\\n          <label class=\\\"form-check-label\\\">\\n            <ion-checkbox color=\\\"danger\\\" (click)=\\\"password()\\\"></ion-checkbox>\\n            اظهار كلمة المرور\\n          </label>\\n        </div>\\n        <ion-button color=\\\"danger\\\" type=\\\"submit\\\" [disabled]=\\\"!f.valid\\\">تسجيل الدخول</ion-button>\\n        <ion-button shape=\\\"round\\\" (click)=\\\"logginFacebook()\\\">\\n          تسجيل الدخول باستخدام الفيسبوك\\n          <ion-icon style=\\\"padding:2px\\\" name=\\\"logo-facebook\\\"></ion-icon>\\n        </ion-button>\\n      </form>\\n      <a style=\\\"color: #c0101e; text-decoration: none; font-size: 16px; margin: 10px\\\" [routerLink]=\\\"['/signup']\\\"\\n        routerLinkActive=\\\"router-link-active\\\">انشاء حساب؟</a>\\n    </div>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"ion-title,\\nion-content {\\n  font-family: \\\"Cairo\\\", sans-serif;\\n  direction: rtl;\\n}\\n\\nimg {\\n  width: 150px;\\n  height: 150px;\\n}\\n\\n.signin {\\n  text-align: center;\\n}\\n\\n.header {\\n  text-align: center;\\n}\\n\\n.logos {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  margin-top: 10px;\\n  margin-bottom: 10px;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\nion-input {\\n  font-family: \\\"Cairo\\\", sans-serif;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGlhbG1vc295L0Rlc2t0b3AvZGV2ZWxvcG1lbnQvcmFtaS9taWt5YWd5L3NyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic3JjL2FwcC9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0VBRUksZ0NBQUE7RUFDQSxjQUFBO0FDQ0o7O0FERUE7RUFDSSxZQUFBO0VBQ0EsYUFBQTtBQ0NKOztBREVBO0VBQ0ksa0JBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0FDQ0o7O0FERUE7RUFDSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7QUNDSjs7QURFQTtFQUNJLGdDQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tdGl0bGUsXG5pb24tY29udGVudCB7XG4gICAgZm9udC1mYW1pbHk6ICdDYWlybycsIHNhbnMtc2VyaWY7XG4gICAgZGlyZWN0aW9uOiBydGw7XG59XG5cbmltZyB7XG4gICAgd2lkdGg6IDE1MHB4O1xuICAgIGhlaWdodDogMTUwcHg7XG59XG5cbi5zaWduaW4ge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmhlYWRlciB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyXG59XG5cbi5sb2dvcyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuaW9uLWlucHV0IHtcbiAgICBmb250LWZhbWlseTogJ0NhaXJvJywgc2Fucy1zZXJpZjtcbn0iLCJpb24tdGl0bGUsXG5pb24tY29udGVudCB7XG4gIGZvbnQtZmFtaWx5OiBcIkNhaXJvXCIsIHNhbnMtc2VyaWY7XG4gIGRpcmVjdGlvbjogcnRsO1xufVxuXG5pbWcge1xuICB3aWR0aDogMTUwcHg7XG4gIGhlaWdodDogMTUwcHg7XG59XG5cbi5zaWduaW4ge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5oZWFkZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5sb2dvcyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG5pb24taW5wdXQge1xuICBmb250LWZhbWlseTogXCJDYWlyb1wiLCBzYW5zLXNlcmlmO1xufSJdfQ== */\"","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NgForm } from '@angular/forms';\nimport { FirebaseService } from '../services/firebase.service';\nimport { LoadingService } from '../services/loading.service';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { User } from '../models/user.model';\nimport { DataService } from '../services/data.service';\nimport { Storage } from '@ionic/storage';\nimport * as firebase from 'firebase/app';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage {\n\n  show: boolean = false;\n\n  constructor(private fire: FirebaseService,\n    public newUser: User,\n    private storage: Storage,\n  \n    private fireAuth: AngularFireAuth,\n    private loader: LoadingService,\n    private data: DataService,\n    private router: Router) { }\n\n  password() {\n    this.show = !this.show;\n  }\n\n  signIn(f: NgForm) {\n    console.dir(f);\n    this.loader.createLoading(\"الرجاء الانتظار\").then(res => {\n      this.loader.show();\n    });\n    this.fire.login(f.value.email, f.value.password).then(data => {\n      this.storage.set('userid', data.user.uid);\n      this.loader.dismiss();\n      this.fire.presentToast(\"تم تسجيل الدخول بنجاح\");\n      this.back();\n    }, (err) => {\n      this.loader.dismiss();\n      if (err.message == \"The password is invalid or the user does not have a password.\") {\n        this.fire.presentToast(\"كلمة مرور غير صحيحة\")\n      }\n\n      if (err.message == \"There is no user record corresponding to this identifier. The user may have been deleted.\") {\n        this.fire.presentToast(\"بريد الكتروني غير موجود\")\n      }\n\n      if (err.message == \"A network error (such as timeout, interrupted connection or unreachable host) has occurred.\") {\n        this.fire.presentToast(\"يرجى التحقق من الاتصال بلشبكة\")\n      }\n    });\n    f.resetForm();\n  }\n// import { Facebook, FacebookLoginResponse } from '@ionic-native/facebook/ngx';\n  // logginFacebook() {\n  //   this.fb.login(['email'])\n  //     .then((response: FacebookLoginResponse) => {\n  //       this.onLoginSuccess(response);\n  //       console.log(response.authResponse.accessToken);\n  //     }).catch((error) => {\n  //       console.log(error)\n  //       this.onLoginError(error);\n  //     });\n  // }\n\n  // async onLoginSuccess(res: FacebookLoginResponse) {\n  //   const credential = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\n  //   await this.fireAuth.auth.signInWithCredential(credential)\n  //     .then((response) => {\n  //       let info = JSON.parse(JSON.stringify(response));\n  //       this.storage.set('userid', info.user.id);\n  //       this.checkAccount(info);\n  //     })\n  // }\n\n  onLoginError(err) {\n    this.fire.presentToast(\"حصل خطا اثناء التسجيل!\");\n    console.log(err);\n  }\n\n  back() {\n    this.router.navigate(['/home']);\n  }\n\n  async checkAccount(info) {\n    if (info.user.uid) {\n      let user = await this.fire.getRealTimeData('users', info.user.uid);\n      await user.subscribe(data => {\n        if (data.length == 0 && data != null && data != undefined) {\n          // user data from facebook\n          this.newUser.id = info.user.uid;\n          this.newUser.firstname = info.additionalUserInfo.profile.first_name;\n          this.newUser.lastname = info.additionalUserInfo.profile.last_name;\n          this.newUser.email = info.user.email;\n          this.newUser.phone = info.user.phoneNumber;\n          this.newUser.image = info.user.photoURL + '?type=large&width=720&height=720';\n          this.fire.presentToast(\"يرجى تاكيد رقم الهاتف\");\n          this.data.saveData(this.newUser);\n          this.router.navigate(['/verify', 'yes']);\n        }\n        else {\n          this.fire.presentToast(\"تم تسجيل الدخول بنجاح\");\n          this.back();\n        }\n      });\n    } else {\n      this.fire.presentToast(\"حصل خطا اثناء مزامنة البيانات\");\n    }\n  }\n}\n"],"sourceRoot":""}