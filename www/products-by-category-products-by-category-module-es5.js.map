{"version":3,"sources":["./src/app/products-by-category/products-by-category.page.html","./src/app/products-by-category/products-by-category.module.ts","./src/app/products-by-category/products-by-category.page.scss","./src/app/products-by-category/products-by-category.page.ts"],"names":[],"mappings":"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","file":"products-by-category-products-by-category-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>\\n      <div class=\\\"tit-container\\\">\\n        <div class=\\\"titlee\\\">\\n          المنتجات\\n        </div>\\n        <div class=\\\"backicon\\\">\\n          <ion-icon name=\\\"arrow-round-back\\\" (click)=\\\"back()\\\"></ion-icon>\\n        </div>\\n      </div>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content ion-ion-no-padding>\\n  <div class=\\\"header-image\\\">\\n    <ion-card>\\n      <img [src]=\\\"category.image ? category.image.src : 'assets/images/brands/' + category.index + '.jpg'\\\" />\\n    </ion-card>\\n  </div>\\n\\n  <div class=\\\"spinner\\\">\\n    <div class=\\\"lds-roller\\\">\\n      <div></div>\\n      <div></div>\\n      <div></div>\\n      <div></div>\\n      <div></div>\\n      <div></div>\\n      <div></div>\\n      <div></div>\\n    </div>\\n  </div>\\n  <div id=\\\"no-items-ava\\\">\\n    <img src=\\\"assets/imgs/makeover.svg\\\">\\n    <p class=\\\"noitem\\\">لا يوجد عناصر</p>\\n  </div>\\n\\n  <div id=\\\"SHOW\\\" class=\\\"main-content\\\">\\n    <mat-accordion *ngIf=\\\"subcategories.length > 0\\\">\\n      <mat-expansion-panel>\\n        <mat-expansion-panel-header>\\n          المنتجات الفرعية\\n        </mat-expansion-panel-header>\\n        <ion-item ion-text-wrap *ngFor=\\\"let subcategory of subcategories\\\" (click)=\\\"openCategoryPage(subcategory)\\\">\\n          {{ subcategory.name }}\\n        </ion-item>\\n      </mat-expansion-panel>\\n    </mat-accordion>\\n\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size=\\\"6\\\" *ngFor=\\\"let product of products\\\" ion-text-wrap>\\n          <ion-card ion-no-padding (click)=\\\"openProductPage(product)\\\">\\n            <ion-chip item-right style=\\\"position: absolute; top: 5px; right:5px; font-size: 10px\\\"\\n              *ngIf=\\\"product.on_sale && product.sale_price\\\">\\n              <ion-label color=\\\"danger\\\" style=\\\"margin-right: 5px;\\\">\\n                {{ (product.regular_price - product.sale_price) *100 / product.regular_price | number:'1.0-0'}}% OFF\\n              </ion-label>\\n              <ion-icon name=\\\"pricetag\\\" color=\\\"danger\\\"></ion-icon>\\n            </ion-chip>\\n            <div class=\\\"image\\\" [style.background-image]='getBackground(product.images[0].src)'></div>\\n            <p class=\\\"product-name\\\"> {{ product.name }} </p>\\n            <ion-row>\\n              <ion-col>\\n                <div *ngIf=\\\"product.on_sale && product.sale_price\\\" style=\\\"text-align: left;\\\">\\n                  <p *ngIf=\\\"product.variations.length == 0\\\">\\n                    <span style=\\\"text-decoration: line-through\\\">{{ currency_symbol }}{{ product.regular_price }}</span>\\n                    <span>&nbsp;{{ currency_symbol }}{{ product.sale_price }}</span>\\n                  </p>\\n                  <p *ngIf=\\\"product.variations.length > 0\\\">\\n                    <span [innerHTML]=\\\"product.price_html\\\"></span>\\n                  </p>\\n                </div>\\n                <div *ngIf=\\\"!(product.on_sale && product.sale_price)\\\" style=\\\"text-align: left;\\\">\\n                  <p *ngIf=\\\"product.variations.length == 0\\\">\\n                    <span [innerHTML]=\\\"currency_symbol + ' ' +  product.price\\\"></span>\\n                  </p>\\n                  <p *ngIf=\\\"product.variations.length > 0\\\">\\n                    <span [innerHTML]=\\\"product.price_html\\\"></span>\\n                  </p>\\n                </div>\\n              </ion-col>\\n              <ion-col>\\n                <span *ngIf=\\\"product.average_rating >= 1\\\">\\n                  <ion-icon style=\\\"color: #d4af37\\\" small name=\\\"star\\\"></ion-icon>\\n                </span>\\n                <span *ngIf=\\\"product.average_rating >= 2\\\">\\n                  <ion-icon style=\\\"color: #d4af37\\\" small name=\\\"star\\\"></ion-icon>\\n                </span>\\n                <span *ngIf=\\\"product.average_rating >= 3\\\">\\n                  <ion-icon style=\\\"color: #d4af37\\\" small name=\\\"star\\\"></ion-icon>\\n                </span>\\n                <span *ngIf=\\\"product.average_rating >= 4\\\">\\n                  <ion-icon style=\\\"color: #d4af37\\\" small name=\\\"star\\\"></ion-icon>\\n                </span>\\n                <span *ngIf=\\\"product.average_rating >= 5\\\">\\n                  <ion-icon style=\\\"color: #d4af37\\\" small name=\\\"star\\\"></ion-icon>\\n                </span>\\n              </ion-col>\\n            </ion-row>\\n          </ion-card>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n    <ion-infinite-scroll (ionInfinite)=\\\"loadMoreProducts($event)\\\">\\n      <ion-infinite-scroll-content></ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductsByCategoryPage } from './products-by-category.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductsByCategoryPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatExpansionModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProductsByCategoryPage]\n})\nexport class ProductsByCategoryPageModule { }\n","module.exports = \"ion-card {\\n  margin: 0 !important;\\n  width: 100% !important;\\n}\\n\\n.image {\\n  height: 30vh;\\n  background-size: auto 100% !important;\\n  background-repeat: no-repeat;\\n  background-position: center center;\\n}\\n\\n.product-name {\\n  text-align: left;\\n  margin: 5px;\\n  max-height: 40px;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n}\\n\\n.header-image ion-card {\\n  position: relative;\\n  text-align: center;\\n  height: 30vh;\\n  margin: 0 !important;\\n  width: 100% !important;\\n}\\n\\n.header-image ion-card img {\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  transform: translateY(-50%) translateX(-50%);\\n  -webkit-transform: translateY(-50%) translateX(-50%);\\n}\\n\\n.header-image .card-title {\\n  position: absolute;\\n  top: 30%;\\n  font-size: 3em;\\n  width: 100%;\\n  font-weight: bold;\\n  color: #fff;\\n}\\n\\n.header-image .card-subtitle {\\n  font-size: 1.5em;\\n  position: absolute;\\n  top: 60%;\\n  width: 100%;\\n  color: #fff;\\n  z-index: 10;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGlhbG1vc295L0Rlc2t0b3AvZGV2ZWxvcG1lbnQvcmFtaS9taWt5YWd5L3NyYy9hcHAvcHJvZHVjdHMtYnktY2F0ZWdvcnkvcHJvZHVjdHMtYnktY2F0ZWdvcnkucGFnZS5zY3NzIiwic3JjL2FwcC9wcm9kdWN0cy1ieS1jYXRlZ29yeS9wcm9kdWN0cy1ieS1jYXRlZ29yeS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxvQkFBQTtFQUNBLHNCQUFBO0FDQ0o7O0FERUE7RUFDSSxZQUFBO0VBQ0EscUNBQUE7RUFDQSw0QkFBQTtFQUNBLGtDQUFBO0FDQ0o7O0FERUE7RUFDSSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtBQ0NKOztBRElJO0VBRUksa0JBQUE7RUFDQSxrQkFBQTtFQUdBLFlBQUE7RUFDQSxvQkFBQTtFQUNBLHNCQUFBO0FDSlI7O0FET0k7RUFDSSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxRQUFBO0VBQ0EsNENBQUE7RUFDQSxvREFBQTtBQ0xSOztBRFFJO0VBQ0ksa0JBQUE7RUFDQSxRQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7QUNOUjs7QURTSTtFQUNJLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0FDUFIiLCJmaWxlIjoic3JjL2FwcC9wcm9kdWN0cy1ieS1jYXRlZ29yeS9wcm9kdWN0cy1ieS1jYXRlZ29yeS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY2FyZCB7XG4gICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbn1cblxuLmltYWdlIHtcbiAgICBoZWlnaHQ6IDMwdmg7XG4gICAgYmFja2dyb3VuZC1zaXplOiBhdXRvIDEwMCUgIWltcG9ydGFudDtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7XG59XG5cbi5wcm9kdWN0LW5hbWUge1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgbWFyZ2luOiA1cHg7XG4gICAgbWF4LWhlaWdodDogNDBweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG59XG5cbi5oZWFkZXItaW1hZ2Uge1xuXG4gICAgaW9uLWNhcmQge1xuXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAvLyBtYXgtaGVpZ2h0OiAyNSUgIWltcG9ydGFudDtcbiAgICAgICAgLy8gbWluLWhlaWdodDogMjUlICFpbXBvcnRhbnQ7XG4gICAgICAgIGhlaWdodDogMzB2aDtcbiAgICAgICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7XG4gICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gICAgfVxuXG4gICAgaW9uLWNhcmQgaW1nIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgIHRvcDogNTAlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSkgdHJhbnNsYXRlWCgtNTAlKTtcbiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSkgdHJhbnNsYXRlWCgtNTAlKTtcbiAgICB9XG5cbiAgICAuY2FyZC10aXRsZSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAzMCU7XG4gICAgICAgIGZvbnQtc2l6ZTogMy4wZW07XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgfVxuXG4gICAgLmNhcmQtc3VidGl0bGUge1xuICAgICAgICBmb250LXNpemU6IDEuNWVtO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogNjAlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIHotaW5kZXg6IDEwO1xuICAgIH1cbn0iLCJpb24tY2FyZCB7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xufVxuXG4uaW1hZ2Uge1xuICBoZWlnaHQ6IDMwdmg7XG4gIGJhY2tncm91bmQtc2l6ZTogYXV0byAxMDAlICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7XG59XG5cbi5wcm9kdWN0LW5hbWUge1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBtYXJnaW46IDVweDtcbiAgbWF4LWhlaWdodDogNDBweDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG59XG5cbi5oZWFkZXItaW1hZ2UgaW9uLWNhcmQge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgaGVpZ2h0OiAzMHZoO1xuICBtYXJnaW46IDAgIWltcG9ydGFudDtcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbn1cbi5oZWFkZXItaW1hZ2UgaW9uLWNhcmQgaW1nIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiA1MCU7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSkgdHJhbnNsYXRlWCgtNTAlKTtcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSkgdHJhbnNsYXRlWCgtNTAlKTtcbn1cbi5oZWFkZXItaW1hZ2UgLmNhcmQtdGl0bGUge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMzAlO1xuICBmb250LXNpemU6IDNlbTtcbiAgd2lkdGg6IDEwMCU7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBjb2xvcjogI2ZmZjtcbn1cbi5oZWFkZXItaW1hZ2UgLmNhcmQtc3VidGl0bGUge1xuICBmb250LXNpemU6IDEuNWVtO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNjAlO1xuICB3aWR0aDogMTAwJTtcbiAgY29sb3I6ICNmZmY7XG4gIHotaW5kZXg6IDEwO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NgZone } from '@angular/core';\nimport { DataService } from '../services/data.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport * as $ from 'jquery'\nimport { WooService } from '../services/woo.service';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-products-by-category',\n  templateUrl: './products-by-category.page.html',\n  styleUrls: ['./products-by-category.page.scss'],\n})\nexport class ProductsByCategoryPage implements OnInit {\n\n  products: any[] = [];\n  subcategories: any[] = [];\n  page: number;\n  category: any;\n  currency_symbol = \"ع.د\"\n\n  constructor(private woo: WooService,\n    private ngZone: NgZone,\n    private dataService: DataService,\n    private toastController: ToastController,\n    private _sanitizer: DomSanitizer, private router: Router) {\n    this.dataService.currentMessage.subscribe(data => {\n      this.category = data;\n    });\n\n    this.page = 1;\n  }\n\n  ngOnInit() {\n    this.woo.getAsync(\"products/categories?parent=\" + this.category.id + \"&per_page=100\").then(data => {\n      console.log(data);\n      this.ngZone.run(() => {\n        this.subcategories = JSON.parse(JSON.stringify(data));\n      })\n    }, (err) => {\n      console.log(err)\n    });\n\n\n    this.woo.getAsync(\"products?category=\" + this.category.id).then(data => {\n      console.log(data);\n      this.ngZone.run(() => {\n        this.products = JSON.parse(JSON.stringify(data));\n        console.log(this.products);\n        $('.spinner').hide();\n        if (this.products.length == 0) {\n          $('#no-items-ava').show();\n          $('#SHOW').hide();\n        }\n        else {\n          $('#no-items-ava').hide();\n          $('#SHOW').show();\n        }\n      })\n    }, (err) => {\n      console.log(err)\n    });\n  }\n\n  loadMoreProducts(event) {\n    this.page++;\n    console.log(\"Getting page \" + this.page);\n    this.woo.getAsync(\"products?category=\" + this.category.id + \"&page=\" + this.page).then(data => {\n      let temp = JSON.parse(JSON.stringify(data));\n\n      this.products = this.products.concat(JSON.parse(JSON.stringify(data)))\n      console.log(this.products);\n      event.target.complete();\n\n      if (temp.length < 10) {\n        event.target.disabled = true;\n\n        this.presentToast(\"لا توجد المزيد من المنتجات\");\n      }\n    })\n  }\n\n  back() {\n    this.router.navigate(['/home']);\n  }\n\n  openProductPage(product: any) {\n    this.dataService.saveData(product);\n    this.router.navigate(['/product-details']);\n  }\n\n  getBackground(image) {\n    return this._sanitizer.bypassSecurityTrustStyle(`url(${image})`);\n  }\n\n  async presentToast(message) {\n    const toast = await this.toastController.create({\n      message,\n      duration: 5000\n    });\n    await toast.present();\n  }\n\n  openCategoryPage(category: any) {\n    this.dataService.saveData(category);\n    this.woo.getAsync(\"products/categories?parent=\" + category.id + \"&per_page=100\").then(data => {\n      this.ngZone.run(() => {\n        this.subcategories = JSON.parse(JSON.stringify(data));\n      })\n    }, (err) => {\n      console.log(err)\n    });\n\n\n    this.woo.getAsync(\"products?category=\" + category.id).then(data => {\n      this.ngZone.run(() => {\n        this.products = JSON.parse(JSON.stringify(data));\n        console.log(this.products);\n      })\n    }, (err) => {\n      console.log(err);\n    });\n  }\n}"],"sourceRoot":""}